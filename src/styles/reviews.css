/* ======================= reviews.css (كامل) ======================= */
.rv-item{min-width:360px;max-width:360px}

.review-card{
  border:1px solid var(--bd);
  border-radius:12px;
  background:#fff;
  padding:14px;
  display:grid;
  gap:10px;
  min-height:160px;
  transition:border-color .12s ease;
}
.review-card:hover{border-color:var(--primary)}

.review-head{display:flex;align-items:center;gap:10px}
.review-avatar{
  width:34px;height:34px;border-radius:50%;
  display:grid;place-items:center;
  background:var(--soft-primary);
  color:var(--primary);
  font-weight:800;
  flex:0 0 auto;
  font-size:13px;
}
.review-user{font-weight:800;color:var(--dark)}
.review-date{margin-inline-start:auto;font-size:12px;color:var(--secondary);opacity:.9}

.review-stars{display:flex;align-items:center;gap:8px}
.review-stars .stars{letter-spacing:.6px}
.review-stars .stars-num{font-weight:700;color:var(--dark);font-size:13px}
.review-text{margin:0;color:var(--dark);line-height:1.6}

.rv-viewall{display:grid;place-items:center;margin-top:10px}
.btn-view-all{
  background:#fff;
  color:var(--secondary-base);
  border:1px solid var(--secondary-base);
  border-radius:999px;
  padding:10px 16px;
  font-weight:700;
  cursor:pointer;
  transition:background .18s,color .18s,border-color .18s;
}
.btn-view-all:hover{background:var(--secondary-base);color:#fff;border-color:var(--secondary-base)}

.rvdr-backdrop{ position:fixed; inset:0; background:rgba(0,0,0,.35); z-index: 60; }
.rvdr-panel{
  position:fixed; inset-block:0; inset-inline-end:0;
  width:min(1100px, 92vw); background:#fff;
  box-shadow:-4px 0 20px rgba(0,0,0,.12);
  z-index:61; display:flex; flex-direction:column;
  animation:rvdr-in .18s ease;
}
@keyframes rvdr-in{from{transform:translateX(12px);opacity:.96} to{transform:none;opacity:1}}

.rvdr-top{ display:flex; align-items:center; justify-content:space-between; padding:12px 14px; border-bottom:1px solid var(--bd); }
.rvdr-title{margin:0; font-size:18px; font-weight:800; color:var(--dark)}
.rvdr-close{ width:36px;height:36px;border-radius:8px; border:1px solid var(--bd); background:#fff; cursor:pointer; }
.rvdr-close:hover{background:var(--primary);color:#fff;border-color:var(--primary)}

.rvdr-body{ flex:1; min-height:0; display:grid; grid-template-columns: 28% 1fr; gap:16px; padding:12px; overflow:auto; }
@media (max-width: 992px){ .rvdr-body{grid-template-columns:1fr} }

.rvdr-prod{
  position:sticky; top:12px;
  border:1px solid var(--bd); border-radius:12px; background:#fff;
  padding:12px; display:grid; gap:10px; height:max-content;
}
.pm-img{border:1px solid var(--bd);border-radius:8px;overflow:hidden;display:grid;place-items:center;background:#fff;aspect-ratio:1/1}
.pm-img img{max-width:100%;max-height:100%;object-fit:contain}
.pm-title{font-weight:800;color:var(--dark);font-size:14px;line-height:1.4}
.pm-price{font-weight:800;color:var(--primary);font-size:16px}
.pm-price span{font-size:12px;color:var(--secondary)}
.pm-link{display:inline-block;text-decoration:none;border:1px solid var(--bd);border-radius:999px;padding:8px 12px;color:var(--dark)}
.pm-link:hover{border-color:var(--primary)}

.rvdr-list{display:grid; gap:12px}

.all-reviews{
  display:grid;
  grid-template-columns: 28% 1fr;
  gap:16px;
  align-items:start;
  padding:14px 0;
}
@media (max-width: 992px){ .all-reviews{grid-template-columns:1fr} }

.prod-mini{
  border:1px solid var(--bd);border-radius:10px;background:#fff;
  padding:12px;display:grid;gap:10px;position:sticky;top:12px;height:max-content;
}
.pm-title{font-weight:800;color:var(--dark);font-size:14px;line-height:1.4}

.rvp-grid{ display:grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap:10px; }
.rvp-item{ padding:14px; min-height:170px; }
.rvp-text{ font-size:15px; line-height:1.8 }

.fab-back{
  position:fixed; bottom:16px; inset-inline-start:16px;
  height:40px; border-radius:999px;
  border:1px solid var(--bd); background:#fff; color:var(--dark);
  padding:0 14px; font-weight:700; cursor:pointer;
  box-shadow:0 4px 14px rgba(0,0,0,.10);
  z-index:70;
  transition:background .18s,border-color .18s,color .18s,transform .12s;
}
.fab-back:hover{ background:var(--primary); color:#fff; border-color:var(--primary); transform:translateY(-1px) }

.rvp-panel{ display:grid; gap:12px; }

/* رأس حديث */
.rvp-head.row{
  display:flex; align-items:center; gap:10px; flex-wrap:wrap;
  padding-bottom:6px; border-bottom:1px solid var(--bd);
}
.rvp-title{ margin:0; font-size:16px; font-weight:800; color:var(--dark) }
.rvp-meta{ display:flex; align-items:center; gap:8px; color:var(--dark) }
.rvp-meta .val{ font-weight:800 }
.rvp-meta .stars{ letter-spacing:.6px }
.rvp-meta .counts{ color:var(--secondary); font-size:13px }
.rvp-meta .sep{ color:var(--bd) }

.help-link{
  margin-inline-start:auto; display:inline-flex; align-items:center; gap:6px;
  font-size:13px; color:var(--secondary);
  text-decoration:none; border:0; background:transparent; padding:0;
}
.help-link:hover{ color:var(--primary) }

.btn-add-open{
  height:34px; padding:0 10px; border-radius:999px;
  background:#fff; color:var(--secondary-base);
  border:1px solid var(--bd); font-weight:700; cursor:pointer;
  transition:background .15s,color .15s,border-color .15s;
}
.btn-add-open:hover{ border-color:var(--secondary-base); color:#fff; background:var(--secondary-base) }

.rvp-controls{
  display:grid; grid-template-columns: 1fr 180px auto; gap:8px;
}
.rvp-all{
  align-self:center; justify-self:end; font-size:13px; color:var(--secondary);
  text-decoration:none; height:36px; display:grid; place-items:center;
}
.rvp-all:hover{ color:var(--primary) }

.search-wrap{ position:relative; }
.ctl.search{
  width:100%; height:36px; border:1px solid var(--bd); border-radius:10px;
  padding:0 40px 0 12px; background:#fff;
}
.ctl.search:focus{ border-color:var(--primary) }
.ctl.search::placeholder{ color:#9aa3b2 }
.search-ico{
  position:absolute; inset-inline-end:10px; inset-block-start:50%; transform:translateY(-50%);
  width:28px; height:28px; display:grid; place-items:center; border:0; background:transparent; color:var(--secondary);
}

.sort-wrap{ position:relative; }
.ctl.select{
  width:100%; height:36px; border:1px solid var(--bd); border-radius:10px; background:#fff;
  padding:0 36px 0 10px; appearance:none;
}
.ctl.select:focus{ border-color:var(--primary) }
.sort-ico{
  position:absolute; inset-inline-end:8px; inset-block-start:50%; transform:translateY(-50%);
  display:grid; place-items:center; width:24px; height:24px; color:var(--secondary);
}

/* Pager */
.rvp-pager{ display:flex; justify-content:center; align-items:center; gap:6px; margin-top:6px; }
.pg-btn{
  min-width:36px; height:36px; border-radius:10px; border:1px solid var(--bd); background:#fff; cursor:pointer;
  transition:background .15s,border-color .15s,color .15s;
}
.pg-btn:hover{ border-color:var(--primary); color:var(--primary) }
.pg-btn:disabled{ opacity:.45; cursor:default }
.pg-btn.num.is-active{ background:var(--primary); color:#fff; border-color:var(--primary); }

/* Modal عرض تعليق */
.rvmodal-backdrop{ position:fixed; inset:0; background:rgba(0,0,0,.35); z-index:70; }
.rvmodal-panel{
  position:fixed; inset-inline:50%; top:50%; transform:translate(-50%, -50%);
  width:min(720px, 92vw);
  background:#fff; border:1px solid var(--bd); border-radius:12px;
  z-index:71; display:grid; gap:10px; padding:12px;
}
.rvmodal-top{ display:flex; align-items:center; justify-content:space-between; gap:10px; border-bottom:1px solid var(--bd); padding-bottom:8px; }
.rvmodal-close{ width:34px; height:34px; border-radius:8px; border:1px solid var(--bd); background:#fff; cursor:pointer; }
.rvmodal-close:hover{ background:var(--primary); color:#fff; border-color:var(--primary) }
.rvmodal-stars{ display:flex; align-items:center; gap:8px }
.rvmodal-text{ margin:0; color:var(--dark); line-height:1.8 }
.rvmodal-panel .u{ display:flex; align-items:center; gap:10px }
.rvmodal-panel .uu{ display:grid; }

/* Modal إضافة تعليق */
.rvadd-backdrop{ position:fixed; inset:0; background:rgba(0,0,0,.35); z-index:70; }
.rvadd-panel{
  position:fixed; inset-inline:50%; top:50%; transform:translate(-50%, -50%);
  width:min(560px, 92vw);
  background:#fff; border:1px solid var(--bd); border-radius:12px;
  z-index:71; display:grid; gap:10px; padding:12px;
}
.rvadd-top{ display:flex; align-items:center; justify-content:space-between; padding-bottom:8px; border-bottom:1px solid var(--bd); }
.rvadd-title{ font-size:16px; font-weight:800; color:var(--dark); }
.rvadd-close{ width:32px; height:32px; border-radius:8px; border:1px solid var(--bd); background:#fff; cursor:pointer; }
.rvadd-close:hover{ background:var(--primary); color:#fff; border-color:var(--primary) }
.rvadd-row{ display:grid; grid-template-columns: 1fr 140px; gap:10px; }
.rvadd-panel .ctl{ height:36px; border:1px solid var(--bd); border-radius:10px; background:#fff; font:inherit; padding:0 12px; }
.rvadd-panel .add-select{ padding:0 10px }
.rvadd-panel .add-text{ min-height:92px; border:1px solid var(--bd); border-radius:10px; padding:10px 12px; resize:vertical; font:inherit; }
.rvadd-actions{ display:flex; justify-content:flex-end; gap:8px; }
.btn-cancel{
  height:36px; padding:0 12px; border-radius:10px; background:#fff; color:var(--dark);
  border:1px solid var(--bd); cursor:pointer;
}
.btn-cancel:hover{ border-color:var(--primary); color:var(--primary) }
.btn-add{
  height:36px; padding:0 16px; border-radius:10px; border:0; background:var(--hov-primary);
  color:#fff; font-weight:700; cursor:pointer; transition:background .15s;
}
.btn-add:hover{ background:var(--primary) }
.btn-add:disabled{ opacity:.6; cursor:default }

@media (max-width: 768px){
  .rvp-controls{ grid-template-columns: 1fr; }
  .rvp-all{ justify-self:start; }
  .rvp-grid{ grid-template-columns: 1fr; }
}
@media (max-width: 992px){
  .rvp-panel{ gap:10px }
  .rvp-title{ font-size:15px }
}

/* Hover "العودة للمنتج" مثل زر رجوع */
.pm-link{
  height:40px; border-radius:999px; border:1px solid var(--bd);
  background:#fff; color:var(--dark); padding:0 14px; font-weight:700; cursor:pointer;
  transition:background .18s,border-color .18s,color .18s,transform .12s;
}
.pm-link:hover{ background:var(--primary); color:#fff; border-color:var(--primary); transform:translateY(-1px) }

/* بطاقات مصغّرة داخل القسم الأفقي */
.reviews-sec .review-card.rv-mini{
  border:1px solid var(--bd); border-radius:12px; background:#fff;
  padding:12px; display:grid; gap:8px; min-height:150px;
}
.reviews-sec .review-card.rv-mini .review-head{
  display:grid; grid-template-columns: 1fr auto auto; align-items:center; gap:8px;
}
.reviews-sec .review-card.rv-mini .review-date{ color:var(--secondary); font-size:12px }
.reviews-sec .review-card.rv-mini .review-user{ font-weight:800; color:var(--dark) }
.reviews-sec .review-card.rv-mini .review-avatar{
  width:32px; height:32px; border-radius:50%; display:grid; place-items:center;
  background:var(--soft-primary); color:var(--primary); font-weight:800; font-size:12px;
}
.reviews-sec .review-card.rv-mini .review-stars{ display:flex; align-items:center; gap:6px; }
.reviews-sec .review-card.rv-mini .review-stars .stars{ letter-spacing:.5px }
.reviews-sec .review-card.rv-mini .review-stars .stars-num{ font-weight:700; color:var(--dark); font-size:12px }
.reviews-sec .review-card.rv-mini .review-text{
  margin:0; color:var(--dark); line-height:1.7;
  display:-webkit-box; -webkit-line-clamp:3; -webkit-box-orient:vertical; overflow:hidden;
}
.badge-verified{
  margin-inline-start:6px; font-size:11px; padding:2px 6px; border-radius:999px;
  border:1px solid var(--bd); color:var(--secondary-base); background:#fff;
}
.rv-helpful{ margin-top:8px; display:flex; gap:8px; align-items:center; flex-wrap:wrap; }
.rv-hbtn{
  height:32px; padding:0 12px; border-radius:10px; border:1px solid var(--bd);
  background:#fff; cursor:pointer; font-weight:700;
  transition:background .18s,color .18s,border-color .18s;
}
.rv-hbtn:hover{ background:var(--primary); color:#fff; border-color:var(--primary) }
.rv-hbtn.is-active{ background:var(--hov-primary); color:#fff; border-color:var(--hov-primary) }
.rv-hbtn.down{ opacity:.95 }
.rv-link{ font-size:12px; color:var(--blue); text-decoration:none; }
.rv-link:hover{ color:var(--hov-blue) }
