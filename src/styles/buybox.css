/* =========================
   BuyBox
   ========================= */
.buy{
  position: sticky;
  top: 12px;
  border: 1px solid var(--bd);
  border-radius: 12px;
  background: #fff;
  padding: 12px;
  display: grid;
  gap: 12px;
  min-height: 520px;
}

.p-title{
  margin:0; font-weight:800; color:var(--dark);
  font-size: var(--fs-20, 20px); line-height:1.35;
}

/* سطر التقييم + الروابط */
.rating-row{
  display:flex; align-items:center; gap:10px; flex-wrap:wrap;
  color:var(--secondary); font-size:13px;
}
.rating-row .stars{ letter-spacing:.6px; color:#ffb400; font-size:12px }
.rating-row .rating-num{ font-weight:800; color:var(--dark); font-size:12px }
.rating-row .rating-count{ color:var(--secondary); font-size:12px }
.rating-row .divider{ opacity:.5; margin-inline:2px }
.rating-row .dot{ opacity:.55; margin-inline:2px }

.link-sm{
  appearance:none; border:0; background:transparent; padding:0; margin:0; cursor:pointer;
  text-decoration:none; font-size:12px; font-weight:700;
  color:var(--blue); transition:color .18s;
}
.link-sm:hover,.link-sm:focus-visible{ color:var(--hov-blue); outline:none }

/* السعر */
.price-now{
  font-weight:900; color:var(--primary); font-size:28px; line-height:1;
}
.price-now span{ font-size:13px; color:var(--secondary); margin-inline-start:6px }

/* الخيارات */
.opts{ display:grid; gap:8px; }
.lbl{ font-size:12px; color:var(--secondary) }

.pills{ display:flex; gap:8px; flex-wrap:wrap }
.pill{
  height:36px; padding:0 12px; border:1px solid var(--bd); border-radius:999px;
  background:#fff; font-weight:700; cursor:pointer;
  transition:background .18s, color .18s, border-color .18s;
}
.pill.is-on,.pill:hover{ background:var(--primary); color:#fff; border-color:var(--primary) }

.swatches{ display:flex; gap:10px; align-items:center }
.sw{
  width:28px; height:28px; border-radius:8px; border:1.5px solid var(--bd);
  background:#fff; cursor:pointer; transition:outline-color .18s, border-color .18s;
}
.sw.is-on{ outline:2px solid var(--primary) }
.sw:hover{ border-color:var(--primary) }

/* الكمية */
.qty{ display:flex; gap:8px; align-items:center }
.qty .btn{
  width:44px; height:44px; border:1px solid var(--bd); border-radius:12px;
  background:#fff; font-weight:800; cursor:pointer;
  transition:background .18s, color .18s, border-color .18s;
}
.qty .btn:hover{ background:var(--primary); color:#fff; border-color:var(--primary) }
.qty .val{
  width:96px; height:44px; border:1px solid var(--bd); border-radius:12px; background:#fff;
  display:grid; place-items:center; font-weight:800;
}

/* الأزرار العريضة */
.buttons{
  display:grid; grid-template-columns: 1fr 1fr auto; gap:10px;
}
.btn-cart{
  height:48px; border-radius:12px; border:1px solid var(--hov-primary);
  background:var(--hov-primary); color:#fff; font-weight:800; cursor:pointer;
  transition:background .18s, color .18s, border-color .18s;
}
.btn-cart:hover{ background:var(--primary); border-color:var(--primary) }

.btn-buy{
  height:48px; border-radius:12px; border:2px solid var(--secondary-base);
  background:#fff; color:var(--secondary-base); font-weight:800; cursor:pointer;
  transition:background .18s, color .18s, border-color .18s;
}
.btn-buy:hover{ background:var(--secondary-base); color:#fff }

.btn-fav{
  width:46px; height:46px; border:1px solid var(--bd); border-radius:12px;
  background:#fff; color:var(--dark); cursor:pointer;
  transition:background .18s, color .18s, border-color .18s, transform .12s;
}
.btn-fav:hover{ border-color:var(--primary); transform:translateY(-1px) }
.btn-fav.is-on{ color:var(--primary); border-color:var(--primary) }

.badges{
  list-style:none; padding:0; margin:0; display:flex; gap:8px; flex-wrap:wrap;
}
.badges li{
  height:32px; border-radius:999px; border:1px solid var(--bd); background:#fff;
  display:grid; place-items:center; padding:0 12px; font-weight:700; color:var(--secondary);
}

@media (max-width: 1200px){
  .buy{ min-height:480px; }
}
@media (max-width: 992px){
  .buy{ position: static; min-height: unset; }
  .buttons{ grid-template-columns: 1fr 1fr 46px; }
}
